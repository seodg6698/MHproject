<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>MH ì»¤ë®¤ë‹ˆí‹°</title>
<link rel="stylesheet" href="/css/main.css">
  <!--  <link rel="stylesheet" th:href="@{/css/bootstrap.css}"/>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}"/>-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
 <header>
        <div class="top-bar">
     <!-- ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ê²½ìš° -->
        <div class="auth-buttons" th:if="${session.user == null}">
            <a href="/login/login">ë¡œê·¸ì¸/íšŒì›ê°€ì…</a>
        </div>
        
        <!-- ë¡œê·¸ì¸í•œ ê²½ìš° -->
        <div class="auth-buttons" th:if="${session.user != null}">
            <span th:text="${session.user.userid + 'ë‹˜'}"></span>
            
            <!-- ì•Œë¦¼ ë²„íŠ¼ -->
            <div class="notification-container">
                <button type="button" class="notification-bell" id="notificationBell">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge" id="notificationBadge" style="display: none;">0</span>
                </button>
                
                <!-- ì•Œë¦¼ ë“œë¡­ë‹¤ìš´ -->
                <div class="notification-dropdown" id="notificationDropdown">
                    <div class="notification-header">
                        <h4>ì•Œë¦¼</h4>
                        <div class="notification-actions">
                            <button type="button" class="btn-small" id="markAllReadBtn">ëª¨ë‘ ì½ìŒ</button>
                            <button type="button" class="btn-small" id="notificationSettingsBtn">ì„¤ì •</button>
                        </div>
                    </div>
                    
                    <div class="notification-list" id="notificationList">
                        <div class="loading-message">
                            <i class="fas fa-spinner fa-spin"></i> ì•Œë¦¼ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
                        </div>
                    </div>
                    
                    <div class="notification-footer">
                        <button type="button" class="btn-small" id="loadMoreBtn">ë” ë³´ê¸°</button>
                    </div>
                </div>
            </div>
            
            <button onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
        </div>
    </div>
</div>
        <div class="main-header">
            <div class="logo">
                <h1>MH <span>ì»¤ë®¤ë‹ˆí‹°</span></h1>
            </div>
        </div>
        <nav>
            <div class="main-nav">
                <ul>
                    <li><a href="/user/main">í™ˆ</a></li>
                    <!--  <li>
                        <a href="#">ë§ˆìŒ ê±´ê°•</a>
                        <ul class="dropdown">
                            <li><a href="#">ìš°ìš¸ì¦</a></li>
                            <li><a href="#">ë¶ˆì•ˆì¥ì• </a></li>
                            <li><a href="#">ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬</a></li>
                            <li><a href="#">ìˆ˜ë©´ì¥ì• </a></li>
                            <li><a href="#">ìê°€ì§„ë‹¨</a></li>
                        </ul>
                    </li>-->
                    <li>
                        <a href="#">ì •ì‹ ì˜í•™ ì •ë³´</a>
                        <ul class="dropdown">
                            <li><a href="/user/disorders">ì§ˆí™˜ë³„ ì •ë³´</a></li>
                            <li><a href="/user/medications">ì•½ë¬¼ ì •ë³´</a></li>
                            <li><a href="/user/treatments">ì¹˜ë£Œ ë°©ë²•</a></li>
                            <li><a href="#">ìµœì‹  ì—°êµ¬</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#">ì»¤ë®¤ë‹ˆí‹°</a>
                        <ul class="dropdown">
                            <li><a href="/board1/openBoardList1">ììœ ê²Œì‹œíŒ</a></li>
                            <li><a href="/board2/openBoardList2">ì§ˆë¬¸ê³¼ ë‹µë³€</a></li>
                            <li><a href="/board3/openBoardList3">ê²½í—˜ ë‚˜ëˆ„ê¸°</a></li>
                            <li><a href="#">í† ë¡ </a></li>
                            <li><a href="#">ì‘ì›ì˜ ë©”ì‹œì§€</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#">ìƒë‹´/ë„ì›€</a>
                        <ul class="dropdown">
                            <li><a href="#">ì „ë¬¸ê°€ ì°¾ê¸°</a></li>
                            <li><a href="#">ê¸°ê´€ ì •ë³´</a></li>
                            <li><a href="#">ê¸´ê¸‰ ì§€ì›</a></li>
                            <!--<li><a href="#">ìƒë‹´ ì˜ˆì•½</a></li>-->
                        </ul>
                    </li>
                    <li><a href="#">ê³µì§€ì‚¬í•­</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main>
    <div th:if="${session.user != null}">
    <p>ì•ˆë…•í•˜ì„¸ìš”, <span th:text="${session.user.userid}"></span>ë‹˜!</p>
    </div>
            <h2>MH ì»¤ë®¤ë‹ˆí‹°ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤.</h2>
            <p>MH ì»¤ë®¤ë‹ˆí‹°ëŠ” ì •ì‹  ê±´ê°•ì— ê´€ì‹¬ì´ ìˆëŠ” ëª¨ë“  ë¶„ë“¤ì„ ìœ„í•œ ì—´ë¦° ê³µê°„ì…ë‹ˆë‹¤.<br>
            ì •ì‹  ê±´ê°• ê´€ë ¨ ì „ë¬¸ ì •ë³´ì™€ í•¨ê»˜ ì„œë¡œì˜ ê²½í—˜ì„ ë‚˜ëˆ„ê³ , ì§€ì§€ì™€ ìœ„ë¡œë¥¼ ì£¼ê³ ë°›ì„ ìˆ˜ ìˆëŠ” ì»¤ë®¤ë‹ˆí‹°ë¥¼ ì§€í–¥í•©ë‹ˆë‹¤.</p>
            <p>ë§ˆìŒì˜ ê±´ê°•ì€ ì‹ ì²´ì˜ ê±´ê°•ë§Œí¼ ì¤‘ìš”í•©ë‹ˆë‹¤.<br>
            ìš°ë¦¬ëŠ” ì •ì‹  ê±´ê°•ì— ëŒ€í•œ ì˜¬ë°”ë¥¸ ì´í•´ì™€ ì¸ì‹ ê°œì„ ì„ í†µí•´ ëª¨ë‘ê°€ í–‰ë³µí•œ ì‚¬íšŒë¥¼ ë§Œë“¤ì–´ ê°€ëŠ” ë° ê¸°ì—¬í•˜ê³ ì í•©ë‹ˆë‹¤.</p>
            <p>ë‹¤ì–‘í•œ ì •ì‹  ê±´ê°• ê´€ë ¨ ì •ë³´ë¥¼ í™•ì¸í•˜ê³ ,<br> ì»¤ë®¤ë‹ˆí‹°ë¥¼ í†µí•´ ì„œë¡œì˜ ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆ„ë©°,<br> í•„ìš”í•  ë•Œ ì ì ˆí•œ ë„ì›€ì„ ì°¾ì„ ìˆ˜ ìˆë„ë¡ MH ì»¤ë®¤ë‹ˆí‹°ê°€ í•¨ê»˜í•˜ê² ìŠµë‹ˆë‹¤.</p>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-links">
                <a href="#">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
                <a href="#">ì´ìš©ì•½ê´€</a>
                <a href="#">ì‚¬ì´íŠ¸ë§µ</a>
            </div>
            <div class="contact">
                ì´ë©”ì¼: seogd6698@gamil.com
            </div>
            <div class="copyright">
                &copy; 2025 MH ì»¤ë®¤ë‹ˆí‹°. All Rights Reserved.
            </div>
        </div>
    </footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
$(document).ready(function() {
    console.log('ğŸ“¢ ì•Œë¦¼ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì‹œì‘');
    
    let currentPage = 0;
    let isLoading = false;
    let hasMoreNotifications = true;
    
    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì½ì§€ ì•Šì€ ì•Œë¦¼ ê°œìˆ˜ ì¡°íšŒ
    loadUnreadCount();
    
    // 5ë¶„ë§ˆë‹¤ ì•Œë¦¼ ê°œìˆ˜ ì—…ë°ì´íŠ¸
    setInterval(loadUnreadCount, 300000);
    
    // ì•Œë¦¼ ë²¨ í´ë¦­ ì´ë²¤íŠ¸
    $('#notificationBell').on('click', function(e) {
        console.log('ğŸ”” ì•Œë¦¼ ë²¨ í´ë¦­ë¨!');
        e.stopPropagation();
        toggleNotificationDropdown();
    });
    
    // ë¬¸ì„œ í´ë¦­ ì‹œ ë“œë¡­ë‹¤ìš´ ë‹«ê¸°
    $(document).on('click', function(e) {
        if (!$(e.target).closest('.notification-container').length) {
            $('#notificationDropdown').removeClass('show');
        }
    });
    
    // ëª¨ë‘ ì½ìŒ ì²˜ë¦¬ ë²„íŠ¼ ì´ë²¤íŠ¸ - ì´ë²¤íŠ¸ ìœ„ì„ ì‚¬ìš©
    $(document).on('click', '#markAllReadBtn', function(e) {
        console.log('ğŸ“– ëª¨ë‘ ì½ìŒ ë²„íŠ¼ í´ë¦­ë¨!');
        e.stopPropagation();
        markAllAsRead();
    });
    
    // ë” ë³´ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸ - ì´ë²¤íŠ¸ ìœ„ì„ ì‚¬ìš©
    $(document).on('click', '#loadMoreBtn', function(e) {
        console.log('ğŸ“‹ ë” ë³´ê¸° ë²„íŠ¼ í´ë¦­ë¨!');
        e.stopPropagation();
        loadMoreNotifications();
    });
    
    // ì•Œë¦¼ ì„¤ì • ë²„íŠ¼ ì´ë²¤íŠ¸ - ì´ë²¤íŠ¸ ìœ„ì„ ì‚¬ìš©
    $(document).on('click', '#notificationSettingsBtn', function(e) {
        console.log('âš™ï¸ ì„¤ì • ë²„íŠ¼ í´ë¦­ë¨!');
        e.stopPropagation();
        window.location.href = '/notification/settings';
    });
    
    // ì•Œë¦¼ í•­ëª© í´ë¦­ ì´ë²¤íŠ¸ - ì´ë²¤íŠ¸ ìœ„ì„ ì‚¬ìš©
    $(document).on('click', '.notification-item', function(e) {
        console.log('ğŸ“Œ ì•Œë¦¼ í•­ëª© í´ë¦­ë¨!');
        
        // ì‚­ì œ ë²„íŠ¼ í´ë¦­ì‹œì—ëŠ” ì´ë™í•˜ì§€ ì•ŠìŒ
        if ($(e.target).closest('.delete-notification').length) {
            return;
        }
        
        var notificationIdx = $(this).data('notification-idx');
        var boardIdx = $(this).data('board-idx');
        
        console.log('ğŸ”— ì•Œë¦¼ ì´ë™:', notificationIdx, 'boardIdx:', boardIdx);
        
        if (notificationIdx) {
            // ì½ìŒ ì²˜ë¦¬ í›„ ê²Œì‹œê¸€ë¡œ ì´ë™
            window.location.href = '/notification/goto?notificationIdx=' + notificationIdx;
        }
    });
    
    // ì‚­ì œ ë²„íŠ¼ ì´ë²¤íŠ¸ - ì´ë²¤íŠ¸ ìœ„ì„ ì‚¬ìš©
    $(document).on('click', '.delete-notification', function(e) {
        console.log('ğŸ—‘ï¸ ì‚­ì œ ë²„íŠ¼ í´ë¦­ë¨!');
        e.stopPropagation();
        
        var notificationIdx = $(this).data('notification-idx');
        deleteNotification(notificationIdx);
    });
    
    // ì½ì§€ ì•Šì€ ì•Œë¦¼ ê°œìˆ˜ ì¡°íšŒ
    function loadUnreadCount() {
        console.log('ğŸ”¢ ì½ì§€ ì•Šì€ ì•Œë¦¼ ê°œìˆ˜ ì¡°íšŒ ì¤‘...');
        
        $.ajax({
            url: '/notification/unread-count',
            type: 'GET',
            success: function(response) {
                console.log('âœ… ì•Œë¦¼ ê°œìˆ˜ ì¡°íšŒ ì„±ê³µ:', response);
                if (response.success) {
                    updateNotificationBadge(response.unreadCount);
                }
            },
            error: function(xhr, status, error) {
                console.error('âŒ ì•Œë¦¼ ê°œìˆ˜ ì¡°íšŒ ì‹¤íŒ¨:', error);
            }
        });
    }
    
    // ì•Œë¦¼ ë°°ì§€ ì—…ë°ì´íŠ¸
    function updateNotificationBadge(count) {
        var $badge = $('#notificationBadge');
        var $bell = $('#notificationBell');
        
        if (count > 0) {
            $badge.text(count > 99 ? '99+' : count).show();
            $bell.addClass('has-notifications');
        } else {
            $badge.hide();
            $bell.removeClass('has-notifications');
        }
    }
    
    // ì•Œë¦¼ ë“œë¡­ë‹¤ìš´ í† ê¸€
    function toggleNotificationDropdown() {
        var $dropdown = $('#notificationDropdown');
        
        if ($dropdown.hasClass('show')) {
            $dropdown.removeClass('show');
            console.log('ğŸ“‹ ë“œë¡­ë‹¤ìš´ ë‹«ìŒ');
        } else {
            $dropdown.addClass('show');
            console.log('ğŸ“‹ ë“œë¡­ë‹¤ìš´ ì—´ìŒ');
            loadNotifications(true); // ì²« í˜ì´ì§€ ë¡œë“œ
        }
    }
    
    // ì•Œë¦¼ ëª©ë¡ ë¡œë“œ
    function loadNotifications(reset) {
        if (typeof reset === 'undefined') reset = false;
        if (isLoading) return;
        
        console.log('ğŸ“‹ ì•Œë¦¼ ëª©ë¡ ë¡œë“œ ì‹œì‘ - reset:', reset);
        
        if (reset) {
            currentPage = 0;
            hasMoreNotifications = true;
            $('#notificationList').html('<div class="loading-message"><i class="fas fa-spinner fa-spin"></i> ì•Œë¦¼ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>');
        }
        
        if (!hasMoreNotifications) return;
        
        isLoading = true;
        
        $.ajax({
            url: '/notification/list',
            type: 'GET',
            data: {
                page: currentPage,
                size: 10
            },
            success: function(response) {
                console.log('âœ… ì•Œë¦¼ ëª©ë¡ ë¡œë“œ ì„±ê³µ:', response);
                
                if (response.success) {
                    renderNotifications(response.notifications, reset);
                    updateNotificationBadge(response.unreadCount);
                    
                    if (response.notifications.length < 10) {
                        hasMoreNotifications = false;
                        $('#loadMoreBtn').hide();
                    } else {
                        $('#loadMoreBtn').show();
                    }
                    
                    currentPage++;
                } else {
                    if (response.needLogin) {
                        window.location.href = '/login/login';
                    } else {
                        showErrorMessage('ì•Œë¦¼ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                    }
                }
            },
            error: function(xhr, status, error) {
                console.error('âŒ ì•Œë¦¼ ë¡œë“œ ì‹¤íŒ¨:', error);
                showErrorMessage('ì•Œë¦¼ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            },
            complete: function() {
                isLoading = false;
            }
        });
    }
    
    // ë” ë§ì€ ì•Œë¦¼ ë¡œë“œ
    function loadMoreNotifications() {
        loadNotifications(false);
    }
    
    // ì•Œë¦¼ ëª©ë¡ ë Œë”ë§
    function renderNotifications(notifications, reset) {
        var $list = $('#notificationList');
        
        console.log('ğŸ¨ ì•Œë¦¼ ë Œë”ë§:', notifications.length, 'ê°œ');
        
        if (reset) {
            $list.empty();
        }
        
        if (notifications.length === 0 && reset) {
            $list.html(
                '<div class="empty-notifications">' +
                    '<i class="fas fa-bell-slash"></i>' +
                    '<p>ìƒˆë¡œìš´ ì•Œë¦¼ì´ ì—†ìŠµë‹ˆë‹¤.</p>' +
                '</div>'
            );
            return;
        }
        
        for (var i = 0; i < notifications.length; i++) {
            var notification = notifications[i];
            var notificationHtml = createNotificationItem(notification);
            $list.append(notificationHtml);
        }
    }
    
    // ì•Œë¦¼ í•­ëª© ìƒì„±
    function createNotificationItem(notification) {
        var iconClass = getNotificationIcon(notification.notificationType);
        var timeAgo = formatTimeAgo(notification.createdDatetime);
        var isUnread = !notification.isRead;
        
        var html = '<div class="notification-item ' + (isUnread ? 'unread' : '') + '" ' +
                   'data-notification-idx="' + notification.notificationIdx + '" ' +
                   'data-board-idx="' + notification.boardIdx + '">' +
                   '<div class="notification-content">' +
                   '<div class="notification-icon ' + notification.notificationType.toLowerCase() + '">' +
                   '<i class="' + iconClass + '"></i>' +
                   '</div>' +
                   '<div class="notification-text">' +
                   '<div class="notification-title">' + escapeHtml(notification.title) + '</div>' +
                   '<div class="notification-message">' + escapeHtml(notification.content) + '</div>' +
                   '<div class="notification-time">' + timeAgo + '</div>' +
                   '</div>' +
                   '</div>' +
                   '<div class="notification-actions-item">' +
                   '<button type="button" class="btn-small delete-notification" ' +
                   'data-notification-idx="' + notification.notificationIdx + '">' +
                   '<i class="fas fa-times"></i>' +
                   '</button>' +
                   '</div>' +
                   '</div>';
        
        return html;
    }
    
    // ì•Œë¦¼ íƒ€ì…ë³„ ì•„ì´ì½˜
    function getNotificationIcon(type) {
        switch(type) {
            case 'LIKE': return 'fas fa-heart';
            case 'COMMENT': return 'fas fa-comment';
            case 'REPLY': return 'fas fa-reply';
            default: return 'fas fa-bell';
        }
    }
    
    // ì‹œê°„ ê²½ê³¼ í¬ë§·íŒ…
    function formatTimeAgo(datetime) {
        var now = new Date();
        var notificationTime = new Date(datetime);
        var diffInMinutes = Math.floor((now - notificationTime) / (1000 * 60));
        
        if (diffInMinutes < 1) return 'ë°©ê¸ˆ ì „';
        else if (diffInMinutes < 60) return diffInMinutes + 'ë¶„ ì „';
        else if (diffInMinutes < 1440) return Math.floor(diffInMinutes / 60) + 'ì‹œê°„ ì „';
        else return Math.floor(diffInMinutes / 1440) + 'ì¼ ì „';
    }
    
    // HTML ì´ìŠ¤ì¼€ì´í”„
    function escapeHtml(text) {
        var div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    }
    
    // ëª¨ë“  ì•Œë¦¼ ì½ìŒ ì²˜ë¦¬
    function markAllAsRead() {
        console.log('ğŸ“– ëª¨ë“  ì•Œë¦¼ ì½ìŒ ì²˜ë¦¬ ì‹œì‘');
        
        $.ajax({
            url: '/notification/mark-all-read',
            type: 'POST',
            success: function(response) {
                console.log('âœ… ëª¨ë“  ì•Œë¦¼ ì½ìŒ ì²˜ë¦¬ ì‘ë‹µ:', response);
                
                if (response.success) {
                    // ëª¨ë“  ì•Œë¦¼ì„ ì½ìŒ ìƒíƒœë¡œ ë³€ê²½
                    $('.notification-item.unread').removeClass('unread');
                    updateNotificationBadge(0);
                    
                    // ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
                    showSuccessMessage(response.message);
                } else {
                    if (response.needLogin) {
                        window.location.href = '/login/login';
                    } else {
                        showErrorMessage(response.message);
                    }
                }
            },
            error: function(xhr, status, error) {
                console.error('âŒ ëª¨ë“  ì•Œë¦¼ ì½ìŒ ì²˜ë¦¬ ì‹¤íŒ¨:', error);
                showErrorMessage('ì•Œë¦¼ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        });
    }
    
    // ì•Œë¦¼ ì‚­ì œ
    function deleteNotification(notificationIdx) {
        console.log('ğŸ—‘ï¸ ì•Œë¦¼ ì‚­ì œ ì‹œì‘:', notificationIdx);
        
        
        $.ajax({
            url: '/notification/delete',
            type: 'POST',
            data: {
                notificationIdx: notificationIdx
            },
            success: function(response) {
                console.log('âœ… ì•Œë¦¼ ì‚­ì œ ì‘ë‹µ:', response);
                
                if (response.success) {
                    // í•´ë‹¹ ì•Œë¦¼ í•­ëª© ì œê±°
                    var $item = $('.notification-item[data-notification-idx="' + notificationIdx + '"]');
                    $item.fadeOut(300, function() {
                        $(this).remove();
                        
                        // ì•Œë¦¼ì´ ì—†ìœ¼ë©´ ë¹ˆ ìƒíƒœ í‘œì‹œ
                        if ($('.notification-item').length === 0) {
                            $('#notificationList').html(
                                '<div class="empty-notifications">' +
                                    '<i class="fas fa-bell-slash"></i>' +
                                    '<p>ìƒˆë¡œìš´ ì•Œë¦¼ì´ ì—†ìŠµë‹ˆë‹¤.</p>' +
                                '</div>'
                            );
                        }
                    });
                    
                    updateNotificationBadge(response.unreadCount);
                } else {
                    if (response.needLogin) {
                        window.location.href = '/login/login';
                    } else {
                        showErrorMessage(response.message);
                    }
                }
            },
            error: function(xhr, status, error) {
                console.error('âŒ ì•Œë¦¼ ì‚­ì œ ì‹¤íŒ¨:', error);
                showErrorMessage('ì•Œë¦¼ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        });
    }
    
    // ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
    function showSuccessMessage(message) {
        console.log('âœ… ì„±ê³µ:', message);
        // ê°„ë‹¨í•œ í† ìŠ¤íŠ¸ ë©”ì‹œì§€ (ì„ íƒì ìœ¼ë¡œ êµ¬í˜„)
        alert(message); // ì„ì‹œë¡œ alert ì‚¬ìš©
    }
    
    // ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
    function showErrorMessage(message) {
        console.error('âŒ ì—ëŸ¬:', message);
        var $list = $('#notificationList');
        $list.html(
            '<div class="loading-message" style="color: #e74c3c;">' +
                '<i class="fas fa-exclamation-triangle"></i> ' + message +
            '</div>'
        );
    }
    
    console.log('âœ… ì•Œë¦¼ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ');
});

// ì „ì—­ í•¨ìˆ˜ë“¤
function logout() {
    if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        fetch('/login/logout', {
            method: 'POST'
        }).then(function() {
            window.location.href = '/user/main';
            console.log("ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.");
        });
    }
}
    </script>
</body>
</html>